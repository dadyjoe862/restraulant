"use strict";

exports.__esModule = true;
exports.default = Explorer;

var _react = _interopRequireDefault(require("react"));

var _ExplorerContext = require("./ExplorerContext");

var _Panel = _interopRequireDefault(require("./Panel"));

var _Panels = _interopRequireDefault(require("./ui/Panels"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Explorer({
  config
}) {
  const queryType = config.schema.getQueryType();

  const rootPanel = /*#__PURE__*/_react.default.createElement(_Panel.default, {
    title: "Main",
    execute: (_, fragment) => config.rootQuery(fragment || '{ __typename }'),
    formArgs: [],
    type: queryType,
    allowSubFragment: true,
    canClose: false
  });

  return /*#__PURE__*/_react.default.createElement(_ExplorerContext.ExplorerContext.Provider, {
    value: config
  }, /*#__PURE__*/_react.default.createElement(_Panels.default, {
    initialPanel: rootPanel
  }));
}